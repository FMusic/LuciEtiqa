<div xmlns:th="http://www.thymeleaf.org"
     th:fragment="content">

  <h1 class="text-2xl font-semibold mb-6">Add a new wine</h1>

  <form action="/wines" method="post" class="space-y-6 max-w-lg">
    <!-- Name -------------------------------------------------------->
    <div>
      <label for="name" class="block text-sm font-medium text-gray-700">
        Name
      </label>
      <input id="name" name="name" type="text" required
             class="mt-1 block w-full rounded-md border-gray-300 shadow-sm
                          focus:ring-indigo-500 focus:border-indigo-500"/>
    </div>

    <!-- Vintage ----------------------------------------------------->
    <div>
      <label for="vintage" class="block text-sm font-medium text-gray-700">
        Vintage
      </label>
      <input id="vintage" name="vintage" type="text" maxlength="6"
             placeholder="2023" required
             class="mt-1 block w-full rounded-md border-gray-300 shadow-sm
                          focus:ring-indigo-500 focus:border-indigo-500"/>
    </div>

    <!-- Category ---------------------------------------------------->
    <div>
      <label for="category" class="block text-sm font-medium text-gray-700">
        Category
      </label>
      <select id="category" name="category" required
              class="mt-1 block w-full rounded-md border-gray-300 shadow-sm
                           focus:ring-indigo-500 focus:border-indigo-500">
        <option value="">Choose…</option>
        <option>Red</option>
        <option>White</option>
        <option>Rosé</option>
        <option>Sparkling</option>
        <option>Dessert</option>
        <option>Fortified</option>
      </select>
    </div>

    <!-- Nutrition (per 100 ml) -->
    <h2 class="text-lg font-medium mt-8 mb-4">Nutrition</h2>

    <div class="grid grid-cols-2 gap-6">
      <div>
        <label for="energyKj" class="block text-sm font-medium text-gray-700">Energy (kJ)</label>
        <input id="energyKj" name="energyKj" type="number" step="0.1" required
               class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:ring-indigo-500 focus:border-indigo-500"/>
      </div>
      <div>
        <label for="energyKcal" class="block text-sm font-medium text-gray-700">Energy (kcal)</label>
        <input id="energyKcal" name="energyKcal" type="number" step="0.1" required
               class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:ring-indigo-500 focus:border-indigo-500"/>
      </div>

      <div><label for="fat" class="block text-sm font-medium text-gray-700">Fat (g)</label>
        <input id="fat" name="fat" type="number" step="0.1" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:ring-indigo-500 focus:border-indigo-500"/></div>
      <div><label for="saturates" class="block text-sm font-medium text-gray-700">Saturates (g)</label>
        <input id="saturates" name="saturates" type="number" step="0.1" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:ring-indigo-500 focus:border-indigo-500"/></div>

      <div><label for="carbohydrate" class="block text-sm font-medium text-gray-700">Carbohydrate (g)</label>
        <input id="carbohydrate" name="carbohydrate" type="number" step="0.1" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:ring-indigo-500 focus:border-indigo-500"/></div>
      <div><label for="sugars" class="block text-sm font-medium text-gray-700">Sugars (g)</label>
        <input id="sugars" name="sugars" type="number" step="0.1" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:ring-indigo-500 focus:border-indigo-500"/></div>

      <div><label for="protein" class="block text-sm font-medium text-gray-700">Protein (g)</label>
        <input id="protein" name="protein" type="number" step="0.1" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:ring-indigo-500 focus:border-indigo-500"/></div>
      <div><label for="salt" class="block text-sm font-medium text-gray-700">Salt (g)</label>
        <input id="salt" name="salt" type="number" step="0.01" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:ring-indigo-500 focus:border-indigo-500"/></div>
    </div>

    <!-- Composition -->
    <h2 class="text-lg font-medium mt-8 mb-4">Composition</h2>

    <div class="space-y-6">
      <div>
        <label for="ingredients" class="block text-sm font-medium text-gray-700">Ingredients</label>
        <textarea id="ingredients" name="ingredients" rows="3" required
                  class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:ring-indigo-500 focus:border-indigo-500"></textarea>
      </div>
      <div>
        <label for="allergens" class="block text-sm font-medium text-gray-700">Allergens</label>
        <textarea id="allergens" name="allergens" rows="2"
                  class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:ring-indigo-500 focus:border-indigo-500"></textarea>
      </div>
      <div>
        <label for="additives" class="block text-sm font-medium text-gray-700">Additives (JSON)</label>
        <textarea id="additives" name="additives" rows="2"
                  placeholder='[{"category":"Preservative","eNumber":"E220"}]'
                  class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:ring-indigo-500 focus:border-indigo-500"></textarea>
      </div>
    </div>

    <!-- Additional information -->
    <h2 class="text-lg font-medium mt-8 mb-4">Additional information</h2>

    <div class="grid grid-cols-2 gap-6">
      <div>
        <label for="abv" class="block text-sm font-medium text-gray-700">Alcohol (% vol)</label>
        <input id="abv" name="abv" type="number" step="0.1"
               class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:ring-indigo-500 focus:border-indigo-500"/>
      </div>
      <div>
        <label for="sugarGpl" class="block text-sm font-medium text-gray-700">Residual sugar (g/L)</label>
        <input id="sugarGpl" name="sugarGpl" type="number" step="0.1"
               class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:ring-indigo-500 focus:border-indigo-500"/>
      </div>
      <div>
        <label for="servingTempC" class="block text-sm font-medium text-gray-700">Serving temp (°C)</label>
        <input id="servingTempC" name="servingTempC" type="number" step="0.1"
               class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:ring-indigo-500 focus:border-indigo-500"/>
      </div>
      <div>
        <label for="origin" class="block text-sm font-medium text-gray-700">Origin / PDO-PGI</label>
        <input id="origin" name="origin" type="text"
               class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:ring-indigo-500 focus:border-indigo-500"/>
      </div>
      <div class="col-span-2">
        <label for="tastingNotes" class="block text-sm font-medium text-gray-700">Tasting notes</label>
        <textarea id="tastingNotes" name="tastingNotes" rows="3"
                  class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:ring-indigo-500 focus:border-indigo-500"></textarea>
      </div>
    </div>


    <!-- Actions ----------------------------------------------------->
    <div>
      <button type="submit"
              class="inline-flex items-center rounded-md bg-indigo-600
                           px-4 py-2 text-white font-medium hover:bg-indigo-700">
        Save
      </button>
      <a href="/wines"
         class="ml-4 text-sm text-gray-600 hover:underline">Cancel</a>
    </div>
  </form>
</div>
